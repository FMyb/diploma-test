```py
x = [1 for _ in range(4 * 1024 * 1024 // 8)]
import sys
sys.getsizeof(x) / 1024 / 1024
```

## array with 1.0877304077148438 mb

```
result time: 0:00:16.641498
docker checkpoint create: 0:00:05.196501
tar time: 0:00:03.998062
cp time: 0:00:01.211813
restore time (with http request): 0:00:06.235118
result time: 0:00:06.230029
cp tar time: 0:00:00.490512
tar time: 0:00:00.997612
cp checkpoint time: 0:00:00.087311
docker start time: 0:00:04.654588
checkpoint size=136407141
checkpoint compress size=30395668
jovyan compress size=5132
```

```
docker time: 0:00:03.186917
cp time: 0:00:00.103202
all time: 0:00:06.330089
result time second vm: 0:00:03.032589
cp time second vm: 0:00:00.078035
restore time: 0:00:02.954548
dump size=262458
load time: 0:00:00.003501
calculate array time:  0:00:00.005876
pickle time:  0:00:00.002698
```

## 2.2053451538085938 mb

```
result time: 0:00:18.959807
docker checkpoint create: 0:00:05.157187
tar time: 0:00:04.045050
cp time: 0:00:01.121763
restore time (with http request): 0:00:08.635803
result time: 0:00:08.630432
cp tar time: 0:00:00.509770
tar time: 0:00:00.989686
cp checkpoint time: 0:00:00.086787
docker start time: 0:00:07.044184
checkpoint size=135604737
checkpoint compress size=30037205
jovyan compress size=5143
```

```
docker time: 0:00:03.078145
cp time: 0:00:00.108305
all time: 0:00:06.261980
result time second vm: 0:00:03.069520
cp time second vm: 0:00:00.083931
restore time: 0:00:02.985584
dump size=524900
load time: 0:00:00.007567
calculate array time:  0:00:00.011553
pickle time:  0:00:00.005624
```

## 4.471122741699219 mb

```
result time: 0:00:17.386822
docker checkpoint create: 0:00:05.337205
tar time: 0:00:04.209453
cp time: 0:00:01.329407
restore time (with http request): 0:00:06.510752
result time: 0:00:06.505354
cp tar time: 0:00:00.552206
tar time: 0:00:00.986868
cp checkpoint time: 0:00:00.085171
docker start time: 0:00:04.881104
checkpoint size=137906831
checkpoint compress size=30044195
jovyan compress size=5134
```

```
docker time: 0:00:03.240192
cp time: 0:00:00.132811
all time: 0:00:06.503962
result time: 0:00:03.122403
cp time: 0:00:00.069565
docker restore time: 0:00:03.052833
load time: 0:00:00.014288
calculate array time:  0:00:00.022275
pickle time:  0:00:00.011380
dump size=1049784
```

## 8.057334899902344 mb

```
result time: 0:00:18.502482
docker checkpoint create: 0:00:05.493348
tar time: 0:00:04.383624
cp time: 0:00:01.293291
restore time (with http request): 0:00:07.332215
result time: 0:00:07.327009
cp tar time: 0:00:00.502001
tar time: 0:00:01.017092
cp checkpoint time: 0:00:00.089302
docker start time: 0:00:05.718608
checkpoint size=141883658
checkpoint compress size=30068216
jovyan compress size=5142
```

```
docker time: 0:00:03.129354
cp time: 0:00:00.146275
all time: 0:00:06.468445
result time second vm: 0:00:03.186981
cp time second vm: 0:00:00.097460
restore time: 0:00:03.089515
dump size=2099552
load time: 0:00:00.029108
calculate array time:  0:00:00.044387
pickle time:  0:00:00.019846
```

## 16.334800720214844 mb

```
result time: 0:00:20.266854
docker checkpoint create: 0:00:05.725931
tar time: 0:00:04.061238
cp time: 0:00:01.243344
restore time (with http request): 0:00:09.236337
result time: 0:00:09.231176
cp tar time: 0:00:00.559092
tar time: 0:00:01.046275
cp checkpoint time: 0:00:00.092154
docker start time: 0:00:07.533651
checkpoint size=149846304
checkpoint compress size=29986973
jovyan compress size=5135
```

```
docker time: 0:00:03.296998
cp time: 0:00:00.197337
all time: 0:00:06.789843
result time second vm: 0:00:03.288803
cp time second vm: 0:00:00.097054
restore time: 0:00:03.191743
dump size=4199090
load time: 0:00:00.055932
calculate array time:  0:00:00.088041
pickle time:  0:00:00.038757
```

## 33.115562438964844 mb

```
result time: 0:00:25.444635
docker checkpoint create: 0:00:07.486628
tar time: 0:00:04.804244
cp time: 0:00:01.319550
restore time (with http request): 0:00:11.834209
result time: 0:00:11.811526
cp tar time: 0:00:00.573185
tar time: 0:00:01.276615
cp checkpoint time: 0:00:01.341657
docker start time: 0:00:08.620062
checkpoint size=167418211
checkpoint compress size=30134101
jovyan compress size=5143
```

```
docker time: 0:00:03.422325
cp time: 0:00:00.232053
all time: 0:00:06.976534
result time second vm: 0:00:03.315363
cp time second vm: 0:00:00.160899
restore time: 0:00:03.154458
dump size=8398164
load time: 0:00:00.117223
calculate array time:  0:00:00.169577
pickle time:  0:00:00.080801
```

## 67.13497161865234 mb

```
result time: 0:00:32.148209
docker checkpoint create: 0:00:07.944575
tar time: 0:00:05.350406
cp time: 0:00:01.557638
restore time (with http request): 0:00:17.295584
result time: 0:00:17.289410
cp tar time: 0:00:00.663600
tar time: 0:00:01.459939
cp checkpoint time: 0:00:02.118875
docker start time: 0:00:13.046991
checkpoint size=199944909
checkpoint compress size=29995382
jovyan compress size=4284
```

```
docker time: 0:00:03.745285
cp time: 0:00:00.518310
all time: 0:00:07.818063
result time second vm: 0:00:03.548147
cp time second vm: 0:00:00.254127
restore time: 0:00:03.294014
dump size=16796312
load time: 0:00:00.220650
calculate array time:  0:00:00.374045
pickle time:  0:00:00.161098
```

## 136.10210418701172 mb

```
result time: 0:00:34.110611
docker checkpoint create: 0:00:10.078792
tar time: 0:00:05.366920
cp time: 0:00:01.191969
restore time (with http request): 0:00:17.472924
result time: 0:00:17.465498
cp tar time: 0:00:00.651394
tar time: 0:00:01.790070
cp checkpoint time: 0:00:01.825022
docker start time: 0:00:13.199004
checkpoint size=270359242
checkpoint compress size=30722036
jovyan compress size=4294
```

```
docker time: 0:00:04.438887
cp time: 0:00:01.038366
all time: 0:00:09.736463
result time second vm: 0:00:04.252738
cp time second vm: 0:00:00.474493
restore time: 0:00:03.778240
dump size=33592610
load time: 0:00:00.437781
calculate array time:  0:00:00.684645
pickle time:  0:00:00.456296
```

## 275.9182662963867 mb

```
result time: 0:00:48.949595
docker checkpoint create: 0:00:16.227121
tar time: 0:00:06.722524
cp time: 0:00:01.072226
restore time (with http request): 0:00:24.927718
result time: 0:00:24.921267
cp tar time: 0:00:00.446397
tar time: 0:00:02.258069
cp checkpoint time: 0:00:02.427226
docker start time: 0:00:19.789569
checkpoint size=404126592
checkpoint compress size=30823346
jovyan compress size=5549
```

```
docker time: 0:00:06.479185
cp time: 0:00:01.559888
all time: 0:00:13.556534
result time second vm: 0:00:05.511031
cp time second vm: 0:00:01.049826
restore time: 0:00:04.461199
dump size=67185213
load time: 0:00:00.880210
calculate array time:  0:00:01.574296
pickle time:  0:00:00.713169
```

## 559.3656845092773 mb

```
result time: 0:01:14.497930
docker checkpoint create: 0:00:30.974177
tar time: 0:00:08.398949
cp time: 0:00:01.358270
restore time (with http request): 0:00:33.766530
result time: 0:00:33.741957
cp tar time: 0:00:00.718128
tar time: 0:00:04.167589
cp checkpoint time: 0:00:05.594159
docker start time: 0:00:23.262073
checkpoint size=672182816
checkpoint compress size=31064126
jovyan compress size=5381
```

```
docker time: 0:00:08.654625
cp time: 0:00:03.006069
all time: 0:00:18.625963
result time second vm: 0:00:06.958146
cp time second vm: 0:00:01.551686
restore time: 0:00:05.406454
dump size=134370410
load time: 0:00:01.804264
calculate array time:  0:00:03.093719
pickle time:  0:00:01.891802
```

## 1133.994773864746 mb

```
result time: 0:01:47.414140
docker checkpoint create: 0:00:48.705301
tar time: 0:00:11.654111
cp time: 0:00:01.061034
restore time (with http request): 0:00:45.993690
result time: 0:00:45.988315
cp tar time: 0:00:00.508690
tar time: 0:00:07.616808
cp checkpoint time: 0:00:06.940669
docker start time: 0:00:30.922143
checkpoint size=1206835939
checkpoint compress size=31493905
jovyan compress size=5138
```

```
docker time: 0:00:13.983521
cp time: 0:00:03.983602
all time: 0:00:29.974355
result time second vm: 0:00:11.952736
cp time second vm: 0:00:03.488760
restore time: 0:00:08.463971
dump size=268740806
load time: 0:00:03.588694
calculate array time:  0:00:05.666045
pickle time:  0:00:03.193367
```

## 2298.9325790405273 mb

```
result time: 0:03:07.488780
docker checkpoint create: 0:01:14.117771
tar time: 0:00:17.948143
cp time: 0:00:01.810619
restore time (with http request): 0:01:33.612243
b'result time: 0:01:33.607104\ncp tar time: 0:00:00.673149\ntar time: 0:00:12.952836\ncp checkpoint time: 0:00:20.669820\ndocker start time: 0:00:59.311292'
checkpoint size=2280979318
checkpoint compress size=33165677
jovyan compress size=5143
```

```
docker time: 0:00:22.121379
cp time: 0:00:11.185650
all time: 0:01:02.907297
result time second vm: 0:00:29.471120
cp time second vm: 0:00:10.148655
restore time: 0:00:19.307026
dump size=537481598
pickle dump time: 0:00:05.590478
load time: 0:00:13.473603
```

## 4142.751365661621 mb

```
docker checkpoint create: 0:02:32.783847
tar time: 0:00:34.955207
cp time: 0:00:01.440013
restore time (with http request): 0:05:57.928521
result time: 0:05:57.919833
cp tar time: 0:00:00.637363
tar time: 0:00:22.101247
cp checkpoint time: 0:00:40.790207
docker start time: 0:04:54.391009
checkpoint size=4428053918
checkpoint compress size=36220304
jovyan compress size=5137
```

```
docker time: 0:00:40.638954
cp time: 0:00:06.380753
all time: 0:01:12.224895
result time second vm: 0:00:25.198358
cp time second vm: 0:00:04.961726
restore time: 0:00:20.236590'
dump size=1074963180
pickle dump time: 0:00:10.298093
load time: 0:00:14.708391
```

```
result time: 0:05:13.042067
docker checkpoint create: 0:02:16.802119
tar time: 0:00:32.865625
cp time: 0:00:01.613182
restore time (with http request): 0:02:21.761136
result time: 0:02:21.753929
cp tar time: 0:00:00.457480
tar time: 0:00:18.962187
cp checkpoint time: 0:00:22.422923
docker start time: 0:01:39.911333
checkpoint size=4427660533
checkpoint compress size=36137865
jovyan compress size=5132
```

## 8398.544395446777 mb

32gb
```
result time: 0:12:19.942016
docker checkpoint create: 0:04:26.397243
tar time: 0:00:57.820719
cp time: 0:00:01.478372
restore time (with http request): 0:06:54.245677
result time: 0:06:54.241133
cp tar time: 0:00:00.620772
tar time: 0:00:36.358730
cp checkpoint time: 0:01:15.537738
docker start time: 0:05:01.723845
checkpoint size=8727447925
checkpoint compress size=43524651
jovyan compress size=4717
```

64gb
```
result time: 0:09:42.036814
docker checkpoint create: 0:04:33.023861
tar time: 0:01:01.905932
cp time: 0:00:01.831702
restore time (with http request): 0:04:05.275314
result time: 0:04:05.270685
cp tar time: 0:00:00.387668
tar time: 0:00:33.282553
cp checkpoint time: 0:00:29.294288
docker start time: 0:03:02.306132
checkpoint size=8727558440
checkpoint compress size=43581335
jovyan compress size=5129
```

```
docker time: 0:01:35.749692
cp time: 0:00:10.096287
all time: 0:02:52.758860
result time second vm: 0:01:06.906418
cp time second vm: 0:00:32.735911
restore time: 0:00:34.170459
dump size=2149926346
pickle dump time: 0:00:20.539520
pickle load time: 0:00:28.738166
```






# от ядер

```python
x = [1 for _ in range(4 * 1024 * 1024 * 1024 // 8)]
import sys
sys.getsizeof(x) / 1024 / 1024
```

## 4142.751365661621 mb

### 2cpu 32ram (max in yandex cloud for 2 cpu)

```
result time: 0:05:28.309519
docker checkpoint create: 0:02:32.547343
tar time: 0:00:32.723871
cp time: 0:00:01.575153
restore time (with http request): 0:02:21.463147
result time: 0:02:21.457155
cp tar time: 0:00:00.323376
tar time: 0:00:20.978224
cp checkpoint time: 0:00:17.452566
docker start time: 0:01:42.702937
checkpoint size=4432578167
checkpoint compress size=37358090
jovyan compress size=5131
```

### 4cpu 64 ram

```
result time: 0:04:48.590467
docker checkpoint create: 0:02:18.678364
tar time: 0:00:33.248898
cp time: 0:00:01.630752
restore time (with http request): 0:01:55.032448
result time: 0:01:55.023536
cp tar time: 0:00:00.699706
tar time: 0:00:15.832858
cp checkpoint time: 0:00:02.554196
docker start time: 0:01:35.936729
checkpoint size=4433519594
checkpoint compress size=37485989
jovyan compress size=5131
```

### 8cpu 64 ram

```
result time: 0:04:45.649706
docker checkpoint create: 0:02:10.908866
tar time: 0:00:30.711086
cp time: 0:00:01.696028
restore time (with http request): 0:02:02.333723
result time: 0:02:02.327674
cp tar time: 0:00:00.505238
tar time: 0:00:18.051821
cp checkpoint time: 0:00:05.008990
docker start time: 0:01:38.761581
checkpoint size=4432659711
checkpoint compress size=37346596
jovyan compress size=5139
```

### 12cpu 64ram

```
result time: 0:04:41.041263
docker checkpoint create: 0:02:09.266339
tar time: 0:00:30.954180
cp time: 0:00:01.735341
restore time (with http request): 0:01:59.085398
result time: 0:01:59.079464
cp tar time: 0:00:00.365590
tar time: 0:00:16.846521
cp checkpoint time: 0:00:04.633781
docker start time: 0:01:37.233532
checkpoint size=4434511329
checkpoint compress size=37678525
jovyan compress size=5136
```


### 16cpu 64 ram
```
result time: 0:04:35.403072
docker checkpoint create: 0:02:06.591443
tar time: 0:00:30.878517
cp time: 0:00:01.249686
restore time (with http request): 0:01:56.683421
result time: 0:01:56.674874
cp tar time: 0:00:00.639672
tar time: 0:00:17.352166
cp checkpoint time: 0:00:04.817868
docker start time: 0:01:33.865126
checkpoint size=4432602155
checkpoint compress size=37315434
jovyan compress size=5135
```


# от памяти

```python
x = [1 for _ in range(1024 * 1024 * 1024 // 8)]
import sys
sys.getsizeof(x) / 1024 / 1024
```

## 1133.994773864746 mb

### 2cpu 2ram

```
result time: 0:06:58.917014
docker checkpoint create: 0:02:44.338033
tar time: 0:00:51.267970
cp time: 0:00:01.834237
restore time (with http request): 0:03:21.476769
result time: 0:03:21.462852
cp tar time: 0:00:00.361460
tar time: 0:00:11.930675
cp checkpoint time: 0:00:44.318185
docker start time: 0:02:24.851082
checkpoint size=1211392939
checkpoint compress size=32654229
jovyan compress size=5139
```

### 2 cpu 4ram

```
result time: 0:03:26.869604
docker checkpoint create: 0:01:01.184760
tar time: 0:00:12.440655
cp time: 0:00:01.243460
restore time (with http request): 0:02:12.000724
result time: 0:02:11.967201
cp tar time: 0:00:00.567585
tar time: 0:00:08.593048
cp checkpoint time: 0:00:10.908797
docker start time: 0:01:51.888070
checkpoint size=1213243677
checkpoint compress size=33040167
jovyan compress size=5141
```

### 2cpu 6ram
```
result time: 0:02:10.403493
docker checkpoint create: 0:00:50.014300
tar time: 0:00:11.979535
cp time: 0:00:01.506740
restore time (with http request): 0:01:06.902913
result time: 0:01:06.866423
cp tar time: 0:00:00.589460
tar time: 0:00:05.793583
cp checkpoint time: 0:00:10.764497
docker start time: 0:00:49.718822
checkpoint size=1211114442
checkpoint compress size=32598620
jovyan compress size=5125
```

### 2cpu 8ram
```
result time: 0:02:04.195692
docker checkpoint create: 0:00:49.122021
tar time: 0:00:12.421553
cp time: 0:00:01.389365
restore time (with http request): 0:01:01.262750
result time: 0:01:01.258293
cp tar time: 0:00:00.492218
tar time: 0:00:07.187984
cp checkpoint time: 0:00:07.150480
docker start time: 0:00:46.427562
checkpoint size=1211384307
checkpoint compress size=32678525
jovyan compress size=5133
```

### 2cpu 10ram
```
result time: 0:01:49.422593
docker checkpoint create: 0:00:42.721285
tar time: 0:00:12.472318
cp time: 0:00:02.188688
restore time (with http request): 0:00:52.040297
result time: 0:00:52.035777
cp tar time: 0:00:00.444275
tar time: 0:00:06.442106
cp checkpoint time: 0:00:05.515970
docker start time: 0:00:39.633370
checkpoint size=1211638074
checkpoint compress size=32709591
jovyan compress size=5131
```

### 2cpu 12ram
```
result time: 0:01:41.106764
docker checkpoint create: 0:00:41.976131
tar time: 0:00:11.769768
cp time: 0:00:01.387684
restore time (with http request): 0:00:45.973177
result time: 0:00:45.969471
cp tar time: 0:00:00.371375
tar time: 0:00:06.060484
cp checkpoint time: 0:00:03.952833
docker start time: 0:00:35.584732
checkpoint size=1211461891
checkpoint compress size=32679095
jovyan compress size=5141
```

### 2cpu 14ram
```
result time: 0:01:39.517952
docker checkpoint create: 0:00:41.403295
tar time: 0:00:11.993220
cp time: 0:00:01.392237
restore time (with http request): 0:00:44.729195
result time: 0:00:44.724007
cp tar time: 0:00:00.314797
tar time: 0:00:06.261550
cp checkpoint time: 0:00:02.195967
docker start time: 0:00:35.951634
checkpoint size=1214476351
checkpoint compress size=33255855
jovyan compress size=5149
```

### 2cpu 16 ram
```
result time: 0:01:37.857030
docker checkpoint create: 0:00:41.229835
tar time: 0:00:11.623543
cp time: 0:00:01.962283
restore time (with http request): 0:00:43.041365
result time: 0:00:43.037303
cp tar time: 0:00:00.435003
tar time: 0:00:05.431302
cp checkpoint time: 0:00:01.524102
docker start time: 0:00:35.646851
checkpoint size=1211445678
checkpoint compress size=32669992
jovyan compress size=5137
```